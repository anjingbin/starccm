// *************************************************************************
//
// This File Is Automatically Generated by the StarBusIDL-to-C++ Compiler !
//
// Copyright (c) 2003
// Network Information Security Institute,Computer College,NUDT.
// ChangSha,Hunan,PRC
//
// All Rights Reserved
//
// *************************************************************************

// Version: 5.0.0

#include <STAR/CORBAServer.h>
#include <account_skel.h>

//
// ProtectedOperation declare connect
//
void
POA_Account::_STAR_op_connect(PortableServer::ServantBase * serv,STAR::Upcall_ptr _star_up)
{
    _STAR_preRemoveHeader(_star_up);
    _STAR_postRemoveHeader(_star_up);
    POA_Account * objImpl=dynamic_cast< POA_Account*>( serv );
    if(objImpl!=NULL) 
    {
         objImpl ->connect();
    }
    _STAR_prePrepareHeader(_star_up);
    _STAR_postPrepareHeader(_star_up);
}

//
// ProtectedOperation declare close
//
void
POA_Account::_STAR_op_close(PortableServer::ServantBase * serv,STAR::Upcall_ptr _star_up)
{
    _STAR_preRemoveHeader(_star_up);
    _STAR_postRemoveHeader(_star_up);
    POA_Account * objImpl=dynamic_cast< POA_Account*>( serv );
    if(objImpl!=NULL) 
    {
         objImpl ->close();
    }
    _STAR_prePrepareHeader(_star_up);
    _STAR_postPrepareHeader(_star_up);
}

//
// ProtectedOperation declare sum
//
void
POA_Account::_STAR_op_sum(PortableServer::ServantBase * serv,STAR::Upcall_ptr _star_up)
{
    _STAR_preRemoveHeader(_star_up);
    _STAR_postRemoveHeader(_star_up);
    POA_Account * objImpl=dynamic_cast< POA_Account*>( serv );
    if(objImpl!=NULL) 
    {
         objImpl ->sum();
    }
    _STAR_prePrepareHeader(_star_up);
    _STAR_postPrepareHeader(_star_up);
}

//
// ProtectedOperation declare deposit
//
void
POA_Account::_STAR_op_deposit(PortableServer::ServantBase * serv,STAR::Upcall_ptr _star_up)
{
    _STAR_preRemoveHeader(_star_up);
    _STAR_postRemoveHeader(_star_up);
    POA_Account * objImpl=dynamic_cast< POA_Account*>( serv );
    if(objImpl!=NULL) 
    {
         objImpl ->deposit();
    }
    _STAR_prePrepareHeader(_star_up);
    _STAR_postPrepareHeader(_star_up);
}

//
// ProtectedOperation declare withdraw
//
void
POA_Account::_STAR_op_withdraw(PortableServer::ServantBase * serv,STAR::Upcall_ptr _star_up)
{
    _STAR_preRemoveHeader(_star_up);
    _STAR_postRemoveHeader(_star_up);
    POA_Account * objImpl=dynamic_cast< POA_Account*>( serv );
    if(objImpl!=NULL) 
    {
         objImpl ->withdraw();
    }
    _STAR_prePrepareHeader(_star_up);
    _STAR_postPrepareHeader(_star_up);
}

//
// Interface declare ::Account
//
CORBA::Boolean
POA_Account::_is_a(const char* type)
    throw(CORBA::SystemException)
{
    const char** _star_ids = Account::_STAR_staticIds();
    for(CORBA::ULong _star_i = 0 ; _star_ids[_star_i] != 0 ; _star_i++)
        if(strcmp(type, _star_ids[_star_i]) == 0)
            return true;

    return false;
}

CORBA::RepositoryId
POA_Account::_primary_interface(const PortableServer::ObjectId&,
                                PortableServer::POA_ptr)
{
    return CORBA::string_dup(Account::_STAR_staticIds()[0]);
}

Account_ptr
POA_Account::_this()
{
    CORBA::Object_var obj = _STAR_buildReference();
    Account_var result = Account::_narrow(obj);
    return result._retn();
}

void
POA_Account::_STAR_dispatch(STAR::Upcall_ptr _star_up)
{
    static const PortableServer::OperationTableEntry Account_Optable_fixed[] =
    {
        {"_component",PortableServer::ServantBase::_STAR_op_get_component},
        {"_interface",PortableServer::ServantBase::_STAR_op_get_interface},
        {"_is_a",PortableServer::ServantBase::_STAR_op_is_a},
        {"_non_existent",PortableServer::ServantBase::_STAR_op_non_existent}
    };
    static const PortableServer::OperationTableEntry Account_Optable_unfixed[] =
    {
        {"close",POA_Account::_STAR_op_close},
        {"connect",POA_Account::_STAR_op_connect},
        {"deposit",POA_Account::_STAR_op_deposit},
        {"sum",POA_Account::_STAR_op_sum},
        {"withdraw",POA_Account::_STAR_op_withdraw}
    };
    static const CORBA::ULong _star_methodCount = 5;

    PortableServer::operationSkel operation;
    if(_STAR_locateOperation(_star_up,Account_Optable_unfixed,_star_methodCount, operation))
    {
        (*operation)(this,_star_up);
        return;
    }
    else
    if(_STAR_locateOperation(_star_up,Account_Optable_fixed,4, operation))
    {
        (*operation)(this,_star_up);
        return;
    }
    throw CORBA::BAD_OPERATION(0, CORBA::COMPLETED_NO);

}
