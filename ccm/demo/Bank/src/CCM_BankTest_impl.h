// **********************************************************************
//
// Generated by the CIDL Translator
//
// Copyright (c) 2001-2004
// StarMiddleware Group
// www.StarMiddleware.net
//
// All Rights Reserved
//
// Author: Huang Jie        huangjie@email.com
// Author: Chang Junsheng   cjs7908@163.com
// Author: Zhen Xianrong
//
// **********************************************************************


#ifndef __CCM_BankTest_impl_h__
#define __CCM_BankTest_impl_h__

#include <CCM.h>

#include <CCM_BankTest_skel.h>
#include <BankTest_ValueType_impl.h>


namespace Bank
{
    namespace BankTestImpl
    {
        class CCM_BankTest_impl : virtual public Bank::BankTestImpl::CCM_BankTest_skel,
                                  public Components::SessionComponent
        {
            CCM_BankTest_impl(const CCM_BankTest_impl&);
            void operator=(const CCM_BankTest_impl&);

        protected:
            Bank::CCM_BankTest_Context_var ctx_;
        public:

            CCM_BankTest_impl();
            ~CCM_BankTest_impl();

            virtual void configuration_complete()
            	throw (Components::InvalidConfiguration, CORBA::SystemException);
            virtual void enter_dyn_deploy()
            	throw(CORBA::SystemException);
            virtual void leave_dyn_deploy()
            	throw(CORBA::SystemException);
            virtual void set_session_context(Components::SessionContext*)
                throw(Components::CCMException,
                      CORBA::SystemException);
            virtual void ccm_activate()
                throw(Components::CCMException,
                      CORBA::SystemException);
            virtual void ccm_passivate()
                throw(Components::CCMException,
                      CORBA::SystemException);
            virtual void ccm_remove()
                throw(Components::CCMException,
                      CORBA::SystemException);
            #ifdef TAO
            virtual const char* _interface_repository_id() const { return 0; }
            virtual void* _tao_QueryInterface(ptr_arith_t type) { return 0; }
            #endif

            virtual CORBA::ULong getBalance(const char* id)
                throw(CORBA::SystemException);

            virtual void deposit(const char* id,
                                 CORBA::ULong amount)
                throw(Bank::MultiThreadAccessError,
                      CORBA::SystemException);

            virtual CORBA::ULong withdraw(const char* id,
                                          CORBA::ULong amount)
                throw(Bank::MultiThreadAccessError,
                      CORBA::SystemException);

            virtual void transfer(const char* fromId,
                                  const char* toId,
                                  CORBA::ULong amount)
                throw(Bank::MultiThreadAccessError,
                      CORBA::SystemException);

            virtual void changePassword(const char* id,
                                        const char* newPassword)
                throw(CORBA::SystemException);

            virtual void createAccount(const char* id,
                                       const char* password)
                throw(CORBA::SystemException);

            virtual void deleteAccount(const char* id)
                throw(CORBA::SystemException);

            virtual CORBA::Boolean authenticate(const char* id,
                                                const char* password)
                throw(CORBA::SystemException);
        };

        class CCM_BankTestHome_impl : virtual public Bank::BankTestImpl::CCM_BankTestHome_skel
        {
            CCM_BankTestHome_impl(const CCM_BankTestHome_impl&);
            void operator=(const CCM_BankTestHome_impl&);

        public:

            CCM_BankTestHome_impl();
            ~CCM_BankTestHome_impl();

            virtual Components::EnterpriseComponent_ptr create()
                throw(Components::CCMException,
                      CORBA::SystemException);

            virtual char* get_storage_home_id();
        };


    }//End of namespace BankTestImpl


}//End of namespace Bank


#endif
